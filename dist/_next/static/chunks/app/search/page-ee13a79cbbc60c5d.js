(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{3314:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(5155),a=r(2115),l=r(5565),o=r(8173),n=r.n(o),c=r(6658),i=r(3751);function d(e){let{allProducts:t,initialPagination:r}=e,o=(0,c.useRouter)(),d=(0,c.useSearchParams)(),h=d.get("q")||"",u=parseInt(d.get("page")||"1",10),[g,m]=(0,a.useState)(h),[x,p]=(0,a.useState)(u),[f,y]=(0,a.useState)([]),[b,v]=(0,a.useState)(!1),[j,N]=(0,a.useState)({...r,currentPage:u});(0,a.useEffect)(()=>{if(g.trim().length>2){v(!0);let e=g.toLowerCase(),r=t.filter(t=>t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.tags.some(t=>t.toLowerCase().includes(e))),s=r.length,a=Math.ceil(s/12),l=(x-1)*12,o=Math.min(l+12,s);y(r.slice(l,o)),N({total:s,pageCount:a,currentPage:x,perPage:12,from:l+1,to:o,hasMorePages:x<a}),v(!1)}else y([]),N({...r,currentPage:x})},[g,x,t,r]);let w=e=>{var t;p(e);let r=new URLSearchParams;r.set("q",g),r.set("page",e.toString()),o.push("/search?".concat(r.toString())),window.scrollTo({top:(null===(t=document.getElementById("search-results"))||void 0===t?void 0:t.offsetTop)||0,behavior:"smooth"})};return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,s.jsx)("h1",{className:"text-3xl font-playfair text-gray-800 mb-8",children:"Search Products"}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),g.trim().length>2){v(!0),p(1);let e=new URLSearchParams;e.set("q",g),e.set("page","1"),o.push("/search?".concat(e.toString()))}},className:"mb-8",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:g,onChange:e=>m(e.target.value),placeholder:"Search for jewelry...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent"}),g&&(0,s.jsx)("button",{type:"button",onClick:()=>m(""),className:"absolute right-14 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"âœ•"}),(0,s.jsx)("button",{type:"submit",className:"absolute right-3 top-1/2 transform -translate-y-1/2 bg-gold text-white px-3 py-1 rounded-md hover:bg-gold-dark",children:"Search"})]}),g.trim().length>0&&g.trim().length<3&&(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Please enter at least 3 characters to search"})]}),(0,s.jsx)("div",{id:"search-results",children:b?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-600",children:"Searching..."})}):f.length>0?(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"mb-6 text-gray-600",children:["Showing ",j.from,"-",j.to," of ",j.total,' results for "',g,'"']}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8",children:f.map(e=>(0,s.jsxs)(n(),{href:"/product/".concat(e.category,"/").concat(e.slug),className:"group bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:[(0,s.jsx)("div",{className:"relative h-64 overflow-hidden",children:(0,s.jsx)(l.default,{src:e.image,alt:e.name,width:300,height:300,className:"object-cover w-full h-full transition-transform duration-500 group-hover:scale-110",loader:i.Ay})}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"text-gray-800 font-medium mb-1 group-hover:text-gold-dark transition-colors",children:e.name}),(0,s.jsx)("p",{className:"text-gold font-semibold mb-2",children:e.formattedPrice}),(0,s.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2",children:e.description})]})]},e.id))}),j.pageCount>1&&(0,s.jsx)("div",{className:"flex justify-center space-x-2",children:(()=>{let{currentPage:e,pageCount:t}=j,r=[];r.push((0,s.jsx)("button",{onClick:()=>w(e-1),disabled:1===e,className:"px-3 py-1 rounded ".concat(1===e?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"),children:"\xab Prev"},"prev"));let a=Math.max(1,e-2),l=Math.min(t,a+4);for(let t=a;t<=l;t++)r.push((0,s.jsx)("button",{onClick:()=>w(t),className:"px-3 py-1 rounded ".concat(t===e?"bg-gold text-white":"text-gray-700 hover:bg-gray-100"),children:t},t));return r.push((0,s.jsx)("button",{onClick:()=>w(e+1),disabled:e===t,className:"px-3 py-1 rounded ".concat(e===t?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"),children:"Next \xbb"},"next")),r})()})]}):g.trim().length>=3?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsxs)("p",{className:"text-gray-600",children:['No results found for "',g,'"']}),(0,s.jsx)("p",{className:"mt-2 text-gray-500",children:"Try different keywords or browse our categories"})]}):null})]})}},3751:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>a}),r(5714).Buffer;let s=new Map;function a(e){let{src:t,width:r,quality:s}=e;return t.startsWith("/")?"".concat(t,"?w=").concat(r,"&q=").concat(s||75):t}r(5714).Buffer},4559:(e,t,r)=>{Promise.resolve().then(r.bind(r,3314))}},e=>{var t=t=>e(e.s=t);e.O(0,[565,714,441,587,358],()=>t(4559)),_N_E=e.O()}]);